{% extends 'base.html' %}

{% block content %}
  <style>
.btn11 {
  text-align: center;
  color: #fff;
  cursor: pointer;

  font-size:16px;
  font-weight: 400;
  line-height: 45px;
  margin: 0 0 2em;
  max-width: 160px; 
  position: relative;
  text-decoration: none;
  text-transform: uppercase;
  width: 100%; 
  
    @media(min-width: 400px) {
    display: inline-block;
    margin-right: 2.5em;
      
    &:nth-of-type(even) {
    margin-right: 0;
      }
      }
  
  @media(min-width: 600px) {
      
    margin: 0 1em 2em;
  
    &:nth-of-type(even) {
    margin-right: 2.5em;
    }
        
    &:nth-of-type(5) {
    margin-right: 0;
    }
    
  }
  
  &:hover { text-decoration: none; }
  
}


.btn-56 {
  border: 0 solid;
  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0);
  outline: 1px solid;
  outline-color: rgba(255, 255, 255, .5);
  outline-offset: 0px;
  text-shadow: none;
  transition: all 1250ms cubic-bezier(0.19, 1, 0.22, 1);
} 

.btn-56:hover {
  border: 1px solid;
  box-shadow: inset 0 0 20px rgba(255, 255, 255, .5), 0 0 20px rgba(255, 255, 255, .2);
  outline-color: rgba(255, 255, 255, 0);
  outline-offset: 15px;
  text-shadow: 1px 1px 2px #427388; 
}
  </style>


<style>
  .image-wrapper {
  
  width: 400px;
  height: 600px;
  position: relative;
  margin-left:5vh;
}

.image-wrapper img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  max-width: 300px;
  max-height: 400px;
  transform-origin: left;
}

.image-1 {
  clip-path: polygon(0 0, 0 32%, 28% 0);
  transform: translate(-10px, -10px);
  transition: transform 300ms ease;
  transform-origin: top;
  .image-wrapper:hover & {
    transform: translate(0,0);
  }
}

.image-2 {
  clip-path: polygon(28% 0, 0 32%, 0 100%, 17% 100%, 90% 0);
  transform: translate(-30px, 5px);
  transition: transform 300ms ease;
  .image-wrapper:hover & {
    transform: translate(0,0);
  }
}

.image-3 {
  clip-path: polygon(100% 0, 100% 65%, 74% 100%, 17% 100%, 90% 0);
  transform: translate(-15px, -10px);
  transition: transform 300ms ease;
  .image-wrapper:hover & {
    transform: translate(0,0);
  }
}

.image-4 {
  clip-path: polygon(100% 65%, 74% 100%, 100% 100%);
  transform: translate(-32px, 5px);
  transition: transform 300ms ease;
  transform-origin: top;
  .image-wrapper:hover & {
    transform: translate(0,0);
  }
}

</style>




  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="image-wrapper">
          <img class="image-1" src="{{anime.image_url}}" />
          <img class="image-2" src="{{anime.image_url}}" />
          <img class="image-3" src="{{anime.image_url}}" />
          <img class="image-4" src="{{anime.image_url}}" />
        </div>
      </div>
      <div class="col-md-8" style = "color: #fff;">
        <h1>{{ anime.name }}</h1>
        {% if seasons|length != 0 %}

          
        
            <p>Количество сезонов: {{ seasons|length }}</p>
        {% endif %}
        
        <p>Жанры: {{genres}}</p>
        <p>Дата выхода: {{ anime.date_time }}</p>
        <p>Description: {{ anime.description }}</p>
      </div>
    </div>
  </div>
  <style>
   

    .sections {
  width: 100%;
  height: 100vh;
  background-color: #301934;
  display: flex;
  align-items: center;
  justify-content: center;
}

.container-it{
  width: 100%;
  max-width: 80rem;
  margin: 0 auto;
  padding: 0 1.5rem;
}

.accordion-item{
  background-color: #301934;
  border-radius: .4rem;
}

.accordion-item hr{
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.accordion-link{
  font-size: 1.6rem;
  color: rgba(255,255,255,.8);
  text-decoration: none;
  background-color: #301934;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0;
}

.accordion-link h3{
  font-weight:500;
  font-size: 20px;
}

.accordion-link i{
  color: #e7d5ff;
  padding: .5rem;
  
}



.accordion-link div{
  display: flex;
}

.accordion-link .ion-md-arrow-down{
  display: none;
}

.answer{
  max-height: 0;
  overflow: hidden;
  position: relative;
  background-color: #301934;
  transition: max-height 650ms;
}





.accordion-item:target .answer{
  max-height: 20rem;
}

.accordion-item:target .accordion-link .ion-md-arrow-forward{
  display: none
}

.accordion-item:target .accordion-link .ion-md-arrow-down{
  display: block;
}
  </style>

   {% load index %}
    <script src="https://unpkg.com/ionicons@5.1.2/dist/ionicons.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500&display=swap" rel="stylesheet"> 
    <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">




  <section class = "sections">
    <div class="container-it">
      <div class="accordion">
        {% for season in seasons%}
        <div class="accordion-item" id="question{{ forloop.counter }}">
          <a class="accordion-link" href="#question{{ forloop.counter }}">
            <div class="flex">
              <h3>Сезон {{season.season_id}}</h3>
              
            </div>
            <i class="icon ion-md-arrow-forward"></i>
            <i class="icon ion-md-arrow-down"></i>
          </a>
          <div class="answer">
            {% for series in series_list|index:forloop.counter %}
                <a href="{% url 'video_list' anime.name series.season.season_id series.series_id %}" class="btn11 btn-56">Серия {{series.series_id}}</a> 
            {% endfor %}
          </div>
          <hr>
      </div>
      {% endfor %}
        
     </div>
    </div>
  </section>
        
    
  
  <style>
    img {
      border: 1px solid #ccc;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    h1 {
      margin-top: 0;
    }
  </style>
{% endblock %}